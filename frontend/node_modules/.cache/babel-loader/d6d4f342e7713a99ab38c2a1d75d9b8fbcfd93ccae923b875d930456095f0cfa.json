{"ast":null,"code":"var _jsxFileName = \"/Users/subbukethineni/Desktop/connectppl/frontend/src/components/AuthForm.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport socket from \"../socket/socket\";\nimport authService from \"../services/authService\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AuthForm = () => {\n  _s();\n  const {\n    user,\n    login\n  } = useContext(AuthContext);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [isRegistering, setIsRegistering] = useState(false);\n  const handleLogin = async () => {\n    setIsLoading(true);\n    try {\n      const response = await authService.login({\n        email,\n        password\n      });\n      login(response.token); // Update the context with the new token\n      socket.connect(); // Connect socket after successful login\n    } catch (err) {\n      setError(\"Login failed. Please try again.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleRegister = async () => {\n    setIsLoading(true);\n    try {\n      const response = await authService.register({\n        username,\n        email,\n        password\n      });\n      login(response.token); // Update the context with the new token\n      socket.connect(); // Connect socket after successful registration\n    } catch (err) {\n      setError(\"Registration failed. Please try again.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [isRegistering ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: username,\n        onChange: e => setUsername(e.target.value),\n        placeholder: \"Enter username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        placeholder: \"Enter email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        placeholder: \"Enter password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleRegister,\n        disabled: isLoading,\n        children: isLoading ? \"Registering...\" : \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsRegistering(false),\n        children: \"Switch to Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        placeholder: \"Enter email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        placeholder: \"Enter password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogin,\n        disabled: isLoading,\n        children: isLoading ? \"Logging in...\" : \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setIsRegistering(true),\n        children: \"Switch to Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthForm, \"snPmhJfNtvDfY76LEyDabotD0Hw=\");\n_c = AuthForm;\nexport default AuthForm;\nvar _c;\n$RefreshReg$(_c, \"AuthForm\");","map":{"version":3,"names":["React","useContext","useState","AuthContext","socket","authService","jsxDEV","_jsxDEV","Fragment","_Fragment","AuthForm","_s","user","login","email","setEmail","password","setPassword","username","setUsername","isLoading","setIsLoading","error","setError","isRegistering","setIsRegistering","handleLogin","response","token","connect","err","handleRegister","register","children","type","value","onChange","e","target","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","style","color","_c","$RefreshReg$"],"sources":["/Users/subbukethineni/Desktop/connectppl/frontend/src/components/AuthForm.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport socket from \"../socket/socket\";\nimport authService from \"../services/authService\";\n\nconst AuthForm = () => {\n  const { user, login } = useContext(AuthContext);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [isRegistering, setIsRegistering] = useState(false);\n\n  const handleLogin = async () => {\n    setIsLoading(true);\n    try {\n      const response = await authService.login({ email, password });\n      login(response.token); // Update the context with the new token\n      socket.connect(); // Connect socket after successful login\n    } catch (err) {\n      setError(\"Login failed. Please try again.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleRegister = async () => {\n    setIsLoading(true);\n    try {\n      const response = await authService.register({\n        username,\n        email,\n        password,\n      });\n      login(response.token); // Update the context with the new token\n      socket.connect(); // Connect socket after successful registration\n    } catch (err) {\n      setError(\"Registration failed. Please try again.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      {isRegistering ? (\n        <>\n          <input\n            type=\"text\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            placeholder=\"Enter username\"\n          />\n          <input\n            type=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            placeholder=\"Enter email\"\n          />\n          <input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            placeholder=\"Enter password\"\n          />\n          <button onClick={handleRegister} disabled={isLoading}>\n            {isLoading ? \"Registering...\" : \"Register\"}\n          </button>\n          <button onClick={() => setIsRegistering(false)}>\n            Switch to Login\n          </button>\n        </>\n      ) : (\n        <>\n          <input\n            type=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            placeholder=\"Enter email\"\n          />\n          <input\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            placeholder=\"Enter password\"\n          />\n          <button onClick={handleLogin} disabled={isLoading}>\n            {isLoading ? \"Logging in...\" : \"Login\"}\n          </button>\n          <button onClick={() => setIsRegistering(true)}>\n            Switch to Register\n          </button>\n        </>\n      )}\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\n    </div>\n  );\n};\n\nexport default AuthForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}