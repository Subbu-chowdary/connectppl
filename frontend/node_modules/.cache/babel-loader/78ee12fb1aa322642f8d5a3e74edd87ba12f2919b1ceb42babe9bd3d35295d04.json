{"ast":null,"code":"import axios from \"axios\";\nimport authService from \"./authService\";\nconst API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5004/api/messages\";\nexport const fetchMessages = async roomId => {\n  const token = authService.getToken();\n  try {\n    const response = await axios.get(`${API_URL}/${roomId}/messages`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return response.data;\n  } catch (error) {\n    throw new Error(\"Failed to fetch messages\");\n  }\n};\nexport const sendMessage = async (content, roomId) => {\n  const token = authService.getToken();\n  const response = await axios.post(`${API_URL}/send`, {\n    content,\n    roomId\n  }, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return response.data.message;\n};","map":{"version":3,"names":["axios","authService","API_URL","process","env","REACT_APP_API_URL","fetchMessages","roomId","token","getToken","response","get","headers","Authorization","data","error","Error","sendMessage","content","post","message"],"sources":["/Users/subbukethineni/Desktop/connectppl/frontend/src/services/messageService.js"],"sourcesContent":["import axios from \"axios\";\nimport authService from \"./authService\";\n\nconst API_URL =\n  process.env.REACT_APP_API_URL || \"http://localhost:5004/api/messages\";\n\nexport const fetchMessages = async (roomId) => {\n  const token = authService.getToken();\n  try {\n    const response = await axios.get(`${API_URL}/${roomId}/messages`, {\n      headers: { Authorization: `Bearer ${token}` },\n    });\n    return response.data;\n  } catch (error) {\n    throw new Error(\"Failed to fetch messages\");\n  }\n};\n\nexport const sendMessage = async (content, roomId) => {\n  const token = authService.getToken();\n  const response = await axios.post(\n    `${API_URL}/send`,\n    { content, roomId },\n    { headers: { Authorization: `Bearer ${token}` } }\n  );\n  return response.data.message;\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,eAAe;AAEvC,MAAMC,OAAO,GACXC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,oCAAoC;AAEvE,OAAO,MAAMC,aAAa,GAAG,MAAOC,MAAM,IAAK;EAC7C,MAAMC,KAAK,GAAGP,WAAW,CAACQ,QAAQ,CAAC,CAAC;EACpC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAG,CAAC,GAAGT,OAAO,IAAIK,MAAM,WAAW,EAAE;MAChEK,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUL,KAAK;MAAG;IAC9C,CAAC,CAAC;IACF,OAAOE,QAAQ,CAACI,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;EAC7C;AACF,CAAC;AAED,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAOC,OAAO,EAAEX,MAAM,KAAK;EACpD,MAAMC,KAAK,GAAGP,WAAW,CAACQ,QAAQ,CAAC,CAAC;EACpC,MAAMC,QAAQ,GAAG,MAAMV,KAAK,CAACmB,IAAI,CAC/B,GAAGjB,OAAO,OAAO,EACjB;IAAEgB,OAAO;IAAEX;EAAO,CAAC,EACnB;IAAEK,OAAO,EAAE;MAAEC,aAAa,EAAE,UAAUL,KAAK;IAAG;EAAE,CAClD,CAAC;EACD,OAAOE,QAAQ,CAACI,IAAI,CAACM,OAAO;AAC9B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}